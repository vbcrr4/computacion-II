clase1_18-03
##getopt y argparse en Python
1. ActivaciÃ³n de conocimientos previos

Antes de explicarte getopt y argparse, quiero saber quÃ© tan familiarizado estÃ¡s con los argumentos de lÃ­nea de comandos y el uso de la terminal.
Preguntas iniciales:

    Â¿Has ejecutado alguna vez un script de Python desde la terminal pasando argumentos?
        Ejemplo: python script.py argumento1 argumento2
    Â¿QuÃ© crees que sucede cuando pasas argumentos a un script de Python? Â¿CÃ³mo crees que el script los procesa?
    Â¿Sabes quÃ© es sys.argv y cÃ³mo se usa en Python?

2. ExplicaciÃ³n teÃ³rica: getopt vs argparse

Ahora que tienes clara la base, te explico cada uno de estos mÃ³dulos y por quÃ© usarlos.

ğŸ“Œ getopt

    Es un mÃ³dulo mÃ¡s bajo nivel y parecido al manejo de argumentos en C.
    Ãštil para scripts pequeÃ±os y sencillos.
    Permite definir opciones cortas (-h) y largas (--help), pero requiere mÃ¡s cÃ³digo para validar argumentos.

ğŸ“Œ argparse

    Es la forma moderna y recomendada en Python.
    Maneja argumentos de manera mÃ¡s robusta.
    Permite definir argumentos obligatorios, tipos de datos, valores por defecto, y mensajes de ayuda automÃ¡ticos.
    Es mÃ¡s legible y fÃ¡cil de mantener que getopt.

ğŸš€ Diferencia clave:

    getopt requiere mÃ¡s trabajo manual para validar y manejar los argumentos.
    argparse hace mucho de esto automÃ¡ticamente y es mÃ¡s flexible.

3. DemostraciÃ³n prÃ¡ctica: getopt

Empecemos con un ejemplo sencillo de getopt.

ğŸ“Œ Objetivo: Crear un script que acepte una opciÃ³n -n o --name y muestre un saludo.
ğŸ“œ CÃ³digo con getopt:
"""
import getopt
import sys

def main():
    try:
        opts, args = getopt.getopt(sys.argv[1:], "n:", ["name="]) #getopt.getopt() analiza los argumentos pasados y los convierte en una lista estructurada de opciones (opts) y argumentos adicionales (args).
    except getopt.GetoptError as err:
        print("Error:", err)
        sys.exit(1)
    
    name = "desconocido"  # Valor por defecto
    for opt, arg in opts:
        if opt in ("-n", "--name"):
            name = arg
    
    print(f"Â¡Hola, {name}!")

if __name__ == "__main__":
    main()
"""
ğŸ“Œ Ejecutar en terminal:
python script.py -n Juan
# ğŸ‘‰ Salida esperada: Â¡Hola, Juan!

4. DemostraciÃ³n prÃ¡ctica: argparse

Ahora pasemos a argparse, que es mÃ¡s moderno y recomendado.

ğŸ“Œ Objetivo: Hacer lo mismo que antes, pero con argparse.

ğŸ“œ CÃ³digo con argparse:
"""
import argparse

def main():
    parser = argparse.ArgumentParser(description="Ejemplo de argparse")
    parser.add_argument("-n", "--name", type=str, default="desconocido", help="Nombre del usuario")
    args = parser.parse_args()

    print(f"Â¡Hola, {args.name}!")

if __name__ == "__main__":
    main()
"""
ğŸ“Œ Ejecutar en terminal:
python script.py -n Juan
# ğŸ‘‰ Salida esperada: Â¡Hola, Juan!

ğŸš€ Diferencias clave respecto a getopt:

    argparse define los argumentos de manera mÃ¡s declarativa (parser.add_argument(...)).
    Se generan automÃ¡ticamente mensajes de ayuda (-h o --help).
    No es necesario procesar manualmente los argumentos con for.

ğŸ’¡ DesafÃ­o prÃ¡ctico

ğŸ“Œ Objetivo: Crear un script que acepte dos argumentos:

    -n o --name: Nombre del usuario (string).
    -a o --age: Edad del usuario (entero).

ğŸ‘‰ Si el usuario no proporciona -n, el nombre serÃ¡ "desconocido".
ğŸ‘‰ Si el usuario no proporciona -a, se debe mostrar un mensaje indicando que no se especificÃ³ edad.

ğŸ“œ Ejemplo de uso:
python script.py -n Juan -a 25
ğŸ’¡ Salida esperada:
Â¡Hola, Juan! Tienes 25 aÃ±os.
Si falta -a:
Â¡Hola, Juan! No especificaste tu edad.
ğŸš€ Instrucciones:

    Escribe el cÃ³digo basado en argparse.
    Prueba el script en la terminal.
    RespÃ³ndeme con el cÃ³digo y los resultados obtenidos.
Ejercicio:
"""
import argparse

def main():
    # Crear el parser
    parser = argparse.ArgumentParser(description="Saludo al usuario.")
    
    # Agregar argumentos
    parser.add_argument('-n', '--name', type=str, default='desconocido', help='Nombre del usuario')
    parser.add_argument('-a', '--age', type=int, help='Edad del usuario')
    
    # Parsear los argumentos
    args = parser.parse_args()
    
    # Generar la salida segÃºn los argumentos proporcionados
    if args.age is not None:
        print(f"Â¡Hola, {args.name}! Tienes {args.age} aÃ±os.")
    else:
        print(f"Â¡Hola, {args.name}! No especificaste tu edad.")

if __name__ == "__main__":
    main()
"""    
ğŸ¯ Cierre y recursos adicionales

âœ… Has aprendido:

    La diferencia entre getopt y argparse.
    CÃ³mo definir y manejar argumentos de lÃ­nea de comandos.
    CÃ³mo hacer argumentos opcionales y obligatorios.
    CÃ³mo mejorar la usabilidad de un script con argparse.

ğŸš€ Siguientes pasos:
Si quieres seguir practicando, intenta:

    Agregar un argumento booleano (-v o --verbose) para imprimir informaciÃ³n adicional si el usuario lo indica.
    Permitir mÃºltiples valores en un argumento (--hobbies, por ejemplo).
    Usar choices= para restringir valores posibles de un argumento.

ğŸ”— Para profundizar:

    ğŸ“„ DocumentaciÃ³n oficial de argparse (https://docs.python.org/3/library/argparse.html)
    ğŸ“– GuÃ­a detallada con ejemplos ()